<!DOCTYPE html>
<meta charset="utf-8">
<canvas width="960" height="260"></canvas>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
  document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
  ':35729/livereload.js?snipver=1"></' + 'script>')
</script>
<body>
  before graph
  <div id="graph" >I'm the graph</div>
  <div class="other"><span class="text">other graph</span></div>
  after graph

  <script>
    // http://thinkingonthinking.com/Getting-Started-With-D3/
    var vis = d3.select(".other")
    .append("svg")

    var w=900
    var h=400
    vis.attr("width", w)
    vis.attr("height", h)
    vis.text("The Graph")

    var nodes = [
      {x:30,y:150},
      {x:50,y:80},
      {x:90,y:120}
    ];

    vis.selectAll("circle .nodes")
    .data(nodes)
    .enter()
    .append("svg:rect")
    .attr("class","nodes")
    .attr("x", function(d){return d.x-20})
    .attr("y", function(d){return d.y-12})
    .attr("width", "40px")
    .attr("height", "25px")
    .attr("fill", "black")
    .attr("rx", 5)

    var links=[
      {source: nodes[0], target: nodes[1]},
      {source: nodes[2], target: nodes[1]},
    ]

    vis.selectAll("line")
    .data(links)
    .enter()
    .append("line")
    .attr("x1", function(d){return d.source.x})
    .attr("y1", function(d){return d.source.y})
    .attr("x2", function(d){return d.target.x})
    .attr("y2", function(d){return d.target.y})
    .style("stroke", "rgb(6,120,155)")

    d3.selectAll(".nodes").call(d3.drag().on("start", ()=>console.log("drag")))
  </script>

</body>
